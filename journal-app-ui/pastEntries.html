<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="style.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300..900;1,300..900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&family=Rubik:ital,wght@0,300..900;1,300..900&display=swap"
      rel="stylesheet"
    />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Journal</title>
  </head>
  <body>
    <img src="images/temp.png" alt="Temp" class="corner-logo" />
    <h1>Journal</h1>
    <h2>Mental Health - Tracking, Insights, Education</h2>
    <br />
    <p>View and Edit Past Entries</p>
    <div id="entriesContainer"></div>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const container = document.getElementById("entriesContainer");
        const entries =
          JSON.parse(localStorage.getItem("journalEntries")) || [];

        if (entries.length === 0) {
          container.innerHTML = "<p>No past entries found.</p>";
          return;
        }

        // Sort newest first
        entries.sort((a, b) => new Date(b.date) - new Date(a.date));

        entries.forEach((entry) => {
          const { date, text, mood } = entry;
          const entryDiv = document.createElement("div");
          entryDiv.classList.add("entry");

          entryDiv.innerHTML = `
            <h3>${date}</h3>
            <p>${text}</p>
            ${mood ? `<p><strong>Mood:</strong> ${mood}</p>` : ""}
          `;

          container.appendChild(entryDiv);
        });
      });
    </script>
    <nav>
      <a href="index.html">
        <img src="images/home.png" alt="Home" class="nav-icon" />
        Home
      </a>
      <a href="pastEntries.html">
        <img src="images/pastentries.png" alt="Past Entries" class="nav-icon" />
        Past Entries
      </a>
      <a href="resources.html">
        <img src="images/resources.png" alt="Resources" class="nav-icon" />
        Resources
      </a>
      <a href="insights.html">
        <img src="images/insights.png" alt="Insights" class="nav-icon" />
        Insights
      </a>
    </nav>
  </body>
</html>
